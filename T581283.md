# T581283 二分查找--伐木高度

## 题目描述

FDFZ不但是优秀的养牛高手，同时也是一名称职的伐木工人。      

FDFZ现在需要砍下 $K$ 米长的木材，这对他来说是很容易的工作，因为他买了一个漂亮的伐木机，弹指间就能砍倒大片森林。      

FDFZ的伐木机工作过程如下：先设置一个高度参数 $H$ 米 (整数)，伐木机升起一个巨大的锯片到高度$H$，并锯掉所有的树比$H$高的部分，当然，树木不高于$H$米的部分保持不变。FDFZ再把树木被锯下的部分捡起，总和大于等于 $K$ 即可。        

例如，如果一行树的高度分别为20，15，10和17，FDFZ把锯片升到15米的高度，切割后树木剩下的高度将是15，15，10和15，而FDFZ将从第1棵树得到5米，从第4棵树得到2米，共得到7米木材。    

FDFZ非常关注生态保护，所以他不会砍掉过多的木材。这正是他为什么尽可能高地设定伐木机锯片的原因。请帮助FDFZ找到伐木机锯片的最大的整数高度$H$，使得他能得到木材至少为$K$米。换句话说，如果再升高1米，则他将得不到$K$米木材。

## 输入格式

第一行，两个正整数，$N$ 和 $K$，分别表示树木的数量和需要砍下的长度和；      
$\quad$ $1<=N<=3,000,000$ ，$1<=K<=2,000,000,000$      
第二行， $N$ 个正整数，依次表示每棵树的高度，高度均在 $int$ 范围内。

## 输出格式

$1$ 个整数，表示锯片的最高高度。

## 输入输出样例 #1

### 输入 #1

```
5  9
3  3  3  3  3
```

### 输出 #1

```
1
```

## 输入输出样例 #2

### 输入 #2

```
5  0
1  3  5  7  9
```

### 输出 #2

```
9
```

## 输入输出样例 #3

### 输入 #3

```
4 7
20 15 10 17
```

### 输出 #3

```
15
```

## 说明/提示

对于样例一，需要把伐木机的高度设置为1，每棵树砍下的长度都是2，砍下的总长度为10，需要的长度为9，满足要求。      

对于样例二，需求为0，则把伐木机的高度设置为最高的树顶即可。再高就无意义了。

``` cpp
#include <bits/stdc++.h>
using namespace std;

const long long N = 3000010;

long long n, k, a[N], tmp, l, r, ans;

bool check(long long x) {
    tmp = 0;
    for (long long i = 1; i <= n; i++) {
        if (x < a[i]) {
            tmp += a[i] - x;
        }
    }
    return tmp >= k;
}

int main() {
    cin >> n >> k;
    r = 0;
    for (long long i = 1; i <= n; i++) {
        cin >> a[i];
        if (r < a[i]) {
            r = a[i];
        }
    }

    while (l <= r) {
        long long mid = (l + r) >> 1;

        if (check(mid)) {
            l = mid + 1;
            ans = mid;
        } else {
            r = mid - 1;
        }
    }
    cout << ans;

    return 0;
}
```